<routes xmlns="http://camel.apache.org/schema/spring">

	<route id="openmrs-fetch-patient" errorHandlerRef="watcherErrorHandler">
		<from uri="direct:openmrs-fetch-patient" />
		
		<log message="Fetching patient details from OpenMRS" />

		<setBody>
			<simple>${null}</simple>
		</setBody>

		<toD uri="{{openmrs.baseUrl}}/ws/rest/v1/patient/${exchangeProperty.order-instance.patient.uuid}?httpMethod=GET&amp;authMethod=Basic&amp;authUsername={{openmrs.username}}&amp;authPassword={{openmrs.password}}" />
		
		<log message="Successfully fetched patient details from OpenMRS" />
	</route>
</routes>